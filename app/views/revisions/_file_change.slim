/ Renders a single file change of a file

/ Should all links be opened in a new tab?
- link_options = ( all_links_in_new_tab ? { target: '_blank' } : {} )

div.file[class=file_change.symbolic_mime_type
         class=file_change.type]

  = image_tag file_change.icon,
             alt: 'File icon',
             size: '30',
             class: 'img-responsive file-icon'

  - if show_link_to_file_info
   = render partial: 'revisions/link_to_file_info',
             locals: { file_id: file_change.external_id,
                       project: project,
                       device: :mobile_and_tablet,
                       link_options: link_options }

  span.file-name[class=text_color_for_file_diff_change(file_change.type)]

    span.name-and-description
      / print: filename in bold
      b
        = link_to_file(file_change.current_or_previous_snapshot, project, link_options) do
          = file_change.name

      / print: added/modified/moved/renamed/deleted text
      =< text_for_file_diff_change(file_change.type, file_change.diff, file_change.ancestor_path)

    - if show_link_to_file_info
      = render partial: 'revisions/link_to_file_info',
               locals: { file_id: file_change.external_id,
                         project: project,
                         device: :desktop,
                        link_options: link_options }
